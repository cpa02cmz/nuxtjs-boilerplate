# Database Configuration
# PostgreSQL connection string (required for production)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/nuxtjs_boilerplate"

# PostgreSQL specific settings (for Docker Compose)
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="postgres"
POSTGRES_DB="nuxtjs_boilerplate"

# Environment
# development | production | test
NODE_ENV="development"

# =============================================================================
# SITE CONFIGURATION (Required for SEO and production deployments)
# =============================================================================
# Primary site URL - used for SEO metadata, sitemaps, and canonical links
NUXT_PUBLIC_SITE_URL="http://localhost:3000"

# Canonical URL - used for SEO canonical link generation
NUXT_PUBLIC_CANONICAL_URL="http://localhost:3000"

# Alternative site URL variables (used as fallbacks if above are not set)
# Uncomment and set one of these as backup:
# SITE_URL="http://localhost:3000"
# CANONICAL_URL="http://localhost:3000"
# HOST="http://localhost:3000"

# =============================================================================
# HOSTING PLATFORM (Auto-set on Vercel, manual for other platforms)
# =============================================================================
# Vercel automatically sets this during deployment
# For local development or other platforms, you can set it manually:
# VERCEL_URL="your-project.vercel.app"

# =============================================================================
# APPLICATION CONFIGURATION (Branding and App Settings)
# =============================================================================
# App Name and Branding
APP_NAME="Free Stuff on the Internet"
APP_SHORT_NAME="Free Resources"
APP_DESCRIPTION="Discover amazing free resources available on the internet - from AI tools to hosting services."
APP_AUTHOR="Free Stuff on the Internet"
APP_LANG="en"

# Social Media
TWITTER_HANDLE="@yourTwitterHandle"

# Feature Flags
ENABLE_PWA="true"
ENABLE_ANALYTICS="true"
ENABLE_SEARCH="true"
ENABLE_BOOKMARKS="true"

# =============================================================================
# THEME CONFIGURATION (Colors and Visual Settings)
# =============================================================================
# Primary Colors
THEME_PRIMARY_COLOR="#4f46e5"
THEME_SECONDARY_COLOR="#7c3aed"
THEME_BACKGROUND_COLOR="#ffffff"
THEME_SURFACE_COLOR="#f9fafb"
THEME_TEXT_COLOR="#111827"
THEME_TEXT_MUTED_COLOR="#6b7280"

# PWA Theme Colors
PWA_THEME_COLOR="#4f46e5"
PWA_BACKGROUND_COLOR="#ffffff"
PWA_MS_TILE_COLOR="#ffffff"

# =============================================================================
# SEO CONFIGURATION (Search Engine Optimization)
# =============================================================================
# Default Meta Tags
SEO_DEFAULT_TITLE="Free Stuff on the Internet - Free Resources for Developers"
SEO_DEFAULT_DESCRIPTION="Discover amazing free resources available on the internet - from AI tools to hosting services."
SEO_KEYWORDS="free resources, AI tools, hosting, databases, CDN, VPS, web development"
SEO_AUTHOR="Free Stuff on the Internet"

# Open Graph Settings
OG_TYPE="website"
OG_IMAGE="/og-image.jpg"
OG_IMAGE_WIDTH="1200"
OG_IMAGE_HEIGHT="630"

# Twitter Card Settings
TWITTER_CARD="summary_large_image"
TWITTER_SITE="@yourTwitterHandle"
TWITTER_CREATOR="@yourTwitterHandle"

# =============================================================================
# SEARCH CONFIGURATION (Fuse.js and Search Behavior)
# =============================================================================
# Fuse.js Options
SEARCH_FUSE_THRESHOLD="0.3"
SEARCH_FUSE_DISTANCE="100"
SEARCH_FUSE_INCLUDE_SCORE="true"
SEARCH_FUSE_INCLUDE_MATCHES="true"
SEARCH_MIN_MATCH_LENGTH="2"

# Search Keys Weights
SEARCH_WEIGHT_NAME="0.35"
SEARCH_WEIGHT_DESCRIPTION="0.25"
SEARCH_WEIGHT_TAGS="0.25"
SEARCH_WEIGHT_CATEGORY="0.15"

# Search Behavior
SEARCH_DEBOUNCE_MS="300"
SEARCH_MIN_QUERY_LENGTH="2"
SEARCH_MAX_SUGGESTIONS="5"
SEARCH_MAX_HISTORY_ITEMS="10"
SEARCH_MAX_SNIPPET_LENGTH="160"

# Related Searches Button Loading State - Pallete's micro-UX enhancement!
RELATED_SEARCHES_BUTTON_LOADING_BG="#f3f4f6"

# =============================================================================
# SECURITY CONFIGURATION (CSP, Headers, CORS)
# =============================================================================
# Allowed Origins (CORS) - Comma-separated list
ALLOWED_ORIGINS="http://localhost:3000"

# CORS Settings
CORS_ALLOWED_METHODS="GET, HEAD, POST, OPTIONS"
CORS_ALLOWED_HEADERS="Content-Type, Authorization"
CORS_MAX_AGE="86400"
CORS_CREDENTIALS="false"

# Content Security Policy (CSP) - Comma-separated values
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self', 'unsafe-eval', 'unsafe-inline'"
CSP_STYLE_SRC="'self', 'unsafe-inline', https://fonts.googleapis.com"
CSP_IMG_SRC="'self', data:, blob:, https:"
CSP_FONT_SRC="'self', https://fonts.gstatic.com, https://fonts.googleapis.com"
CSP_CONNECT_SRC="'self', https://fonts.googleapis.com, https://fonts.gstatic.com, https://unpkg.com"
CSP_FRAME_ANCESTORS="'none'"
CSP_OBJECT_SRC="'none'"
CSP_BASE_URI="'self'"
CSP_FORM_ACTION="'self'"

# Security Headers
HEADER_CONTENT_TYPE_OPTIONS="nosniff"
HEADER_FRAME_OPTIONS="DENY"
HEADER_XSS_PROTECTION="0"
HEADER_REFERRER_POLICY="strict-origin-when-cross-origin"
HEADER_HSTS="max-age=31536000; includeSubDomains; preload"
HEADER_PERMISSIONS_POLICY="geolocation=(), microphone=(), camera=()"

# Image Security
IMAGE_QUALITY="80"
IMAGE_FORMATS="webp, avif, jpeg"
IMAGE_DENSITIES="1, 2"

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# General API Rate Limits
RATE_LIMIT_GENERAL_WINDOW_MS="900000"
RATE_LIMIT_GENERAL_MAX="100"

# Search Endpoints
RATE_LIMIT_SEARCH_WINDOW_MS="60000"
RATE_LIMIT_SEARCH_MAX="30"

# Heavy Computation Endpoints
RATE_LIMIT_HEAVY_WINDOW_MS="60000"
RATE_LIMIT_HEAVY_MAX="10"

# Export Endpoints
RATE_LIMIT_EXPORT_WINDOW_MS="60000"
RATE_LIMIT_EXPORT_MAX="5"

# Webhook Endpoints
RATE_LIMIT_WEBHOOK_WINDOW_MS="60000"
RATE_LIMIT_WEBHOOK_MAX="20"

# API Key Management
RATE_LIMIT_API_KEY_WINDOW_MS="900000"
RATE_LIMIT_API_KEY_MAX="10"

# =============================================================================
# CACHE CONFIGURATION (PWA and Server Cache)
# =============================================================================
# PWA Cache Settings
PWA_CACHE_GLOB_PATTERNS="**/*.{js,css,html,png,svg,ico,jpg,webp,woff2}"
PWA_API_CACHE_MAX_ENTRIES="50"
PWA_API_CACHE_MAX_AGE="86400"
PWA_RESOURCES_CACHE_MAX_ENTRIES="10"
PWA_RESOURCES_CACHE_MAX_AGE="604800"
PWA_FONTS_CACHE_MAX_ENTRIES="10"
PWA_FONTS_CACHE_MAX_AGE="31536000"
PWA_ASSETS_CACHE_MAX_ENTRIES="50"
PWA_ASSETS_CACHE_MAX_AGE="2592000"

# Server Cache
CACHE_DEFAULT_TTL_MS="300000"
CACHE_MAX_SIZE="100"
CACHE_MAX_POPULAR_SEARCHES="50"
CACHE_MAX_ZERO_RESULT_SEARCHES="50"
CACHE_MAX_PERFORMANCE_HISTORY="100"

# =============================================================================
# WEBHOOKS CONFIGURATION
# =============================================================================
# Queue Processor
WEBHOOK_PROCESSOR_INTERVAL_MS="5000"
WEBHOOK_BATCH_SIZE="10"
WEBHOOK_MAX_QUEUE_SIZE="1000"

# Retry Settings
WEBHOOK_RETRY_BASE_DELAY_MS="1000"
WEBHOOK_RETRY_MAX_DELAY_MS="30000"
WEBHOOK_RETRY_MAX_ATTEMPTS="3"
WEBHOOK_RETRY_JITTER_FACTOR="0.1"

# Request Settings
WEBHOOK_REQUEST_TIMEOUT_MS="10000"
WEBHOOK_SUCCESS_STATUS_CODES="200, 201, 202, 204"
WEBHOOK_RETRYABLE_STATUS_CODES="408, 429, 500, 502, 503, 504"

# Secrets
WEBHOOK_SECRET_PREFIX="whsec_"
WEBHOOK_ID_PREFIX="wh_"

# Webhook Secret Encryption (Required for production)
# Used to encrypt webhook secrets at rest in the database
# Generate a secure key with: openssl rand -base64 32
# IMPORTANT: Keep this key secure! If lost, encrypted webhook secrets cannot be recovered
WEBHOOK_SECRET_ENCRYPTION_KEY=""

# Circuit Breaker
CIRCUIT_BREAKER_TIMEOUT_MS="60000"
CIRCUIT_BREAKER_FAILURE_THRESHOLD="5"
CIRCUIT_BREAKER_SUCCESS_THRESHOLD="2"

# =============================================================================
# PAGINATION CONFIGURATION
# =============================================================================
PAGINATION_DEFAULT_PAGE_SIZE="20"
PAGINATION_MAX_PAGE_SIZE="100"
PAGINATION_MAX_ITEMS_PER_REQUEST="1000"
SEARCH_DEFAULT_LIMIT="20"
API_DEFAULT_LIMIT="20"

# =============================================================================
# VALIDATION CONFIGURATION
# =============================================================================
# Resource Fields
RESOURCE_NAME_MIN_LENGTH="2"
RESOURCE_NAME_MAX_LENGTH="200"
RESOURCE_DESCRIPTION_MIN_LENGTH="10"
RESOURCE_DESCRIPTION_MAX_LENGTH="2000"
RESOURCE_URL_MAX_LENGTH="2000"
RESOURCE_TAGS_MAX_COUNT="20"
RESOURCE_TAG_MAX_LENGTH="50"

# URL Validation
VALIDATION_URL_TIMEOUT="10000"
VALIDATION_URL_MAX_RETRIES="10"

# =============================================================================
# ANALYTICS CONFIGURATION
# =============================================================================
ANALYTICS_TRACKING_DELAY_MS="100"
ANALYTICS_DEBOUNCE_MS="300"
ANALYTICS_MIN_TIME_ON_PAGE_MS="2000"
ANALYTICS_RATING_MIN="1"
ANALYTICS_RATING_MAX="5"
ANALYTICS_STORAGE_PREFIX="web-vitals-"
PERFORMANCE_MAX_HISTORY="100"

# =============================================================================
# UI CONFIGURATION (Toast, Notifications, Animation)
# =============================================================================
# Toast Durations (ms)
TOAST_DURATION_SUCCESS="5000"
TOAST_DURATION_ERROR="10000"
TOAST_DURATION_WARNING="7000"
TOAST_DURATION_INFO="5000"

# Toast Positioning
TOAST_POSITION_TOP="20"
TOAST_POSITION_RIGHT="20"
TOAST_MAX_WIDTH="400"
TOAST_MIN_WIDTH="300"

# Animation
ANIMATION_DURATION_FAST="0.2"
ANIMATION_DURATION_NORMAL="0.3"
ANIMATION_DURATION_SLOW="0.5"

# Keyboard Shortcuts
KEYBOARD_SEARCH_SHORTCUT="/"

# Resource Card
RESOURCE_CARD_BUTTON_LABEL="Get Free Access"
RESOURCE_CARD_NEW_TAB_INDICATOR="(new tab)"

# =============================================================================
# PWA CONFIGURATION
# =============================================================================
PWA_DISPLAY="standalone"
PWA_ORIENTATION="any"
PWA_ID="/"
PWA_START_URL="/"
PWA_SCOPE="/"
PWA_WORKBOX_STRATEGY="generateSW"
PWA_REGISTER_TYPE="autoUpdate"

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Enable/disable development features
# NUXT_DEVTOOLS=true

# Skip cryptographic salt check during development (do not use in production)
# This allows npm install to complete without setting CRYPTO_SALT
SKIP_CRYPTO_CHECK=true

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# For production deployments, ensure you set:
# 1. NUXT_PUBLIC_SITE_URL - Your production domain
# 2. NUXT_PUBLIC_CANONICAL_URL - Your canonical domain
# 3. ALLOWED_ORIGINS - Allowed domains for CORS
# 4. NODE_ENV="production"
# 5. All security headers with strict values
# 6. CSP values without 'unsafe-inline' and 'unsafe-eval' for scripts
#
# Example production configuration:
# NUXT_PUBLIC_SITE_URL="https://yourdomain.com"
# NUXT_PUBLIC_CANONICAL_URL="https://yourdomain.com"
# ALLOWED_ORIGINS="https://yourdomain.com"
# NODE_ENV="production"
# CSP_SCRIPT_SRC="'self', 'strict-dynamic'"

# =============================================================================
# BACKUP AND DISASTER RECOVERY CONFIGURATION
# =============================================================================
# Backup Storage Paths
BACKUP_DIR="./backups"
BACKUP_DB_PATH="./prisma/data/dev.db"
BACKUP_TEMP_DIR="./tmp/backups"

# Backup Schedule
BACKUP_SCHEDULE_ENABLED="false"
BACKUP_CRON_EXPRESSION="0 2 * * *"
BACKUP_ON_STARTUP="false"
BACKUP_BEFORE_MIGRATIONS="true"

# Retention Policy
BACKUP_DAILY_COUNT="7"
BACKUP_WEEKLY_COUNT="4"
BACKUP_MONTHLY_COUNT="12"
BACKUP_MAX_AGE_DAYS="90"
BACKUP_MIN_BACKUPS="3"

# Compression
BACKUP_COMPRESSION_ENABLED="true"
BACKUP_COMPRESSION_LEVEL="6"
BACKUP_COMPRESSION_FORMAT="gzip"

# Verification
BACKUP_VERIFY_ENABLED="true"
BACKUP_VERIFY_INTEGRITY="true"
BACKUP_CHECKSUM_ALGO="sha256"
BACKUP_VERIFY_TIMEOUT_SEC="300"

# Remote Storage (Optional - requires provider-specific credentials)
# BACKUP_REMOTE_ENABLED="false"
# BACKUP_REMOTE_PROVIDER="s3"
# BACKUP_REMOTE_BUCKET=""
# BACKUP_REMOTE_PREFIX="backups/"
# BACKUP_REMOTE_RETENTION="30"
# BACKUP_REMOTE_SYNC="false"

# Encryption (Optional)
# BACKUP_ENCRYPTION_ENABLED="false"
# BACKUP_ENCRYPTION_ALGO="aes-256-gcm"
# BACKUP_ENCRYPTION_KEY_PATH=""
# BACKUP_ENCRYPTION_KEY_ENV="BACKUP_ENCRYPTION_KEY"

# Notifications (Optional)
# BACKUP_NOTIFY_ENABLED="false"
# BACKUP_NOTIFY_SUCCESS="false"
# BACKUP_NOTIFY_FAILURE="true"
# BACKUP_NOTIFY_WEBHOOK=""
# BACKUP_NOTIFY_EMAIL=""

# Performance
BACKUP_THROTTLE_MBPS="0"
BACKUP_PARALLEL_COMPRESSION="false"
BACKUP_THREADS="1"

# Restore Settings
RESTORE_REQUIRE_CONFIRMATION="true"
RESTORE_BACKUP_BEFORE="true"
RESTORE_VERIFY_BEFORE="true"
RESTORE_TIMEOUT_SEC="600"

# Disaster Recovery
DR_POINT_IN_TIME_ENABLED="false"
DR_RTO_MINUTES="60"
DR_RPO_MINUTES="60"
DR_HEALTH_CHECK_HOURS="25"

# Logging
BACKUP_LOG_LEVEL="info"
BACKUP_LOG_FILE=""
BACKUP_LOG_MAX_SIZE_MB="10"
BACKUP_LOG_MAX_FILES="5"

# Metadata
BACKUP_INCLUDE_GIT_HASH="true"
BACKUP_INCLUDE_VERSION="true"
BACKUP_INCLUDE_ENV="true"
BACKUP_TAGS=""

# =============================================================================
# DEAD LETTER QUEUE ALERTING (Issue #2724)
# =============================================================================

# Enable dead letter queue alerting system
DEAD_LETTER_ALERTS_ENABLED=true

# Alert thresholds
DEAD_LETTER_THRESHOLD_TOTAL=10
DEAD_LETTER_THRESHOLD_WEBHOOK=5
DEAD_LETTER_THRESHOLD_WINDOW_MINUTES=60

# GitHub Issue Integration (optional - requires @octokit/rest package)
DEAD_LETTER_GITHUB_ISSUES_ENABLED=false
DEAD_LETTER_GITHUB_REPO=owner/repo
DEAD_LETTER_GITHUB_LABELS=bug,webhook,dead-letter
DEAD_LETTER_GITHUB_ASSIGNEES=

# Notification settings
DEAD_LETTER_LOG_LEVEL=warn
DEAD_LETTER_INCLUDE_PAYLOAD=false

# Required for GitHub issue creation
GITHUB_TOKEN=your_github_token_here
